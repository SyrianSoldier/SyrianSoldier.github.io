<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.67" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://vuepress-theme-hope-docs-demo.netlify.app/Individual/interview/%E9%9D%A2%E8%AF%95%E5%85%AB%E8%82%A1%E6%96%87.html"><meta property="og:site_name" content="文档演示"><meta property="og:title" content="面试八股文"><meta property="og:description" content="JavaScript 1. js继承 继承 (http://liufusong.top/interview/javascript/%E7%BB%A7%E6%89%BF.html#%E5%8E%9F%E5%9E%8B%E9%93%BE%E7%BB%A7%E6%89%BF) 原生的js实现继承主要纠结两件事 1. 每个对象拥有独立内存空间(原型链继承来的复..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-10-09T03:03:19.000Z"><meta property="article:author" content="Mr.Hope"><meta property="article:modified_time" content="2023-10-09T03:03:19.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"面试八股文","image":[""],"dateModified":"2023-10-09T03:03:19.000Z","author":[{"@type":"Person","name":"Mr.Hope","url":"https://mrhope.site"}]}</script><title>面试八股文 | 文档演示</title><meta name="description" content="JavaScript 1. js继承 继承 (http://liufusong.top/interview/javascript/%E7%BB%A7%E6%89%BF.html#%E5%8E%9F%E5%9E%8B%E9%93%BE%E7%BB%A7%E6%89%BF) 原生的js实现继承主要纠结两件事 1. 每个对象拥有独立内存空间(原型链继承来的复...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-fc3d4404.css" as="style"><link rel="stylesheet" href="/assets/style-fc3d4404.css">
    <link rel="modulepreload" href="/assets/app-a87d2e20.js"><link rel="modulepreload" href="/assets/面试八股文.html-71f9e23d.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-c27b6911.js"><link rel="modulepreload" href="/assets/面试八股文.html-fd8c81ed.js"><link rel="prefetch" href="/assets/index.html-6a9cca82.js" as="script"><link rel="prefetch" href="/assets/slides.html-3df6cc41.js" as="script"><link rel="prefetch" href="/assets/KK音标.html-989926a9.js" as="script"><link rel="prefetch" href="/assets/grammer.html-f3bb9e3b.js" as="script"><link rel="prefetch" href="/assets/词根词缀.html-58d918d0.js" as="script"><link rel="prefetch" href="/assets/2023-且将新火试新茶_诗酒趁年华.html-9c8b6419.js" as="script"><link rel="prefetch" href="/assets/东合.html-e3740e34.js" as="script"><link rel="prefetch" href="/assets/揭榜挂帅.html-15c75c60.js" as="script"><link rel="prefetch" href="/assets/美食.html-b3ebfab7.js" as="script"><link rel="prefetch" href="/assets/裸辞后的备考.html-96864e26.js" as="script"><link rel="prefetch" href="/assets/高数 - 副本.html-1a1c38f5.js" as="script"><link rel="prefetch" href="/assets/高数.html-68dde3c7.js" as="script"><link rel="prefetch" href="/assets/index.html-a7a57d6b.js" as="script"><link rel="prefetch" href="/assets/disable.html-031444a4.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-0bade57e.js" as="script"><link rel="prefetch" href="/assets/markdown.html-5b1d6c6d.js" as="script"><link rel="prefetch" href="/assets/page.html-f3559153.js" as="script"><link rel="prefetch" href="/assets/index.html-fda97da6.js" as="script"><link rel="prefetch" href="/assets/设计模式.html-6acbf3cc.js" as="script"><link rel="prefetch" href="/assets/性能优化.html-cf425751.js" as="script"><link rel="prefetch" href="/assets/c__.html-716f3984.js" as="script"><link rel="prefetch" href="/assets/python.html-c9f05bc6.js" as="script"><link rel="prefetch" href="/assets/git操作.html-5209ae79.js" as="script"><link rel="prefetch" href="/assets/数据结构与算法.html-802e24fc.js" as="script"><link rel="prefetch" href="/assets/算法刷题.html-4bfffeb3.js" as="script"><link rel="prefetch" href="/assets/算法笔记重构.html-afc85d16.js" as="script"><link rel="prefetch" href="/assets/http.html-c16061a6.js" as="script"><link rel="prefetch" href="/assets/wireshark.html-cc953da2.js" as="script"><link rel="prefetch" href="/assets/计算机网络-刷题.html-e6393498.js" as="script"><link rel="prefetch" href="/assets/计算机网络.html-ca25d465.js" as="script"><link rel="prefetch" href="/assets/计算机网络第二版笔记.html-65ebef55.js" as="script"><link rel="prefetch" href="/assets/操作系统.html-aa3351bd.js" as="script"><link rel="prefetch" href="/assets/index.html-cfebe09f.js" as="script"><link rel="prefetch" href="/assets/disable.html-495e1a96.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-1ce409a5.js" as="script"><link rel="prefetch" href="/assets/markdown.html-10138c01.js" as="script"><link rel="prefetch" href="/assets/page.html-af4087e4.js" as="script"><link rel="prefetch" href="/assets/index.html-0b5fcf55.js" as="script"><link rel="prefetch" href="/assets/index.html-c02f2615.js" as="script"><link rel="prefetch" href="/assets/baz.html-1a732994.js" as="script"><link rel="prefetch" href="/assets/index.html-b4ecd3c3.js" as="script"><link rel="prefetch" href="/assets/ray.html-5484da6e.js" as="script"><link rel="prefetch" href="/assets/Promise源码.html-a0beb557.js" as="script"><link rel="prefetch" href="/assets/async-await.html-80d7e391.js" as="script"><link rel="prefetch" href="/assets/typescript.html-8affe7d2.js" as="script"><link rel="prefetch" href="/assets/拖拽.html-3e7d4acc.js" as="script"><link rel="prefetch" href="/assets/react基础语法.html-ec092110.js" as="script"><link rel="prefetch" href="/assets/vue3语法.html-7653cabf.js" as="script"><link rel="prefetch" href="/assets/vuex.html-eeed6cfe.js" as="script"><link rel="prefetch" href="/assets/声明式渲染进阶.html-79e59dd1.js" as="script"><link rel="prefetch" href="/assets/自动注册全局组件.html-9d358df1.js" as="script"><link rel="prefetch" href="/assets/spliteChunks.html-13b91cb5.js" as="script"><link rel="prefetch" href="/assets/index.html-27dd1c2a.js" as="script"><link rel="prefetch" href="/assets/baz.html-8d4dace5.js" as="script"><link rel="prefetch" href="/assets/index.html-c173a40c.js" as="script"><link rel="prefetch" href="/assets/ray.html-d6479753.js" as="script"><link rel="prefetch" href="/assets/404.html-a857d8d8.js" as="script"><link rel="prefetch" href="/assets/index.html-6d516273.js" as="script"><link rel="prefetch" href="/assets/index.html-2653ceb3.js" as="script"><link rel="prefetch" href="/assets/index.html-b6616570.js" as="script"><link rel="prefetch" href="/assets/index.html-6867201f.js" as="script"><link rel="prefetch" href="/assets/index.html-554a7223.js" as="script"><link rel="prefetch" href="/assets/index.html-326ea5b5.js" as="script"><link rel="prefetch" href="/assets/index.html-025c081a.js" as="script"><link rel="prefetch" href="/assets/index.html-5bae3fe5.js" as="script"><link rel="prefetch" href="/assets/index.html-87a756de.js" as="script"><link rel="prefetch" href="/assets/index.html-0c6b7552.js" as="script"><link rel="prefetch" href="/assets/index.html-82de94b8.js" as="script"><link rel="prefetch" href="/assets/index.html-f1e31233.js" as="script"><link rel="prefetch" href="/assets/index.html-81b0e435.js" as="script"><link rel="prefetch" href="/assets/index.html-e3202ec0.js" as="script"><link rel="prefetch" href="/assets/index.html-1814e46b.js" as="script"><link rel="prefetch" href="/assets/index.html-fb7957e7.js" as="script"><link rel="prefetch" href="/assets/index.html-b826fe2e.js" as="script"><link rel="prefetch" href="/assets/index.html-8216ac7d.js" as="script"><link rel="prefetch" href="/assets/index.html-4d52b24e.js" as="script"><link rel="prefetch" href="/assets/index.html-bd9eb100.js" as="script"><link rel="prefetch" href="/assets/slides.html-518aae41.js" as="script"><link rel="prefetch" href="/assets/KK音标.html-2776deb7.js" as="script"><link rel="prefetch" href="/assets/grammer.html-6c33fdcc.js" as="script"><link rel="prefetch" href="/assets/词根词缀.html-f880acd3.js" as="script"><link rel="prefetch" href="/assets/2023-且将新火试新茶_诗酒趁年华.html-fd2bcc52.js" as="script"><link rel="prefetch" href="/assets/东合.html-c844aa76.js" as="script"><link rel="prefetch" href="/assets/揭榜挂帅.html-4bfa437f.js" as="script"><link rel="prefetch" href="/assets/美食.html-0d6a905d.js" as="script"><link rel="prefetch" href="/assets/裸辞后的备考.html-37e81340.js" as="script"><link rel="prefetch" href="/assets/高数 - 副本.html-4bbcd3b9.js" as="script"><link rel="prefetch" href="/assets/高数.html-f9a2b71a.js" as="script"><link rel="prefetch" href="/assets/index.html-91a5a63f.js" as="script"><link rel="prefetch" href="/assets/disable.html-a07c533a.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-778aec1d.js" as="script"><link rel="prefetch" href="/assets/markdown.html-c8512503.js" as="script"><link rel="prefetch" href="/assets/page.html-9f5f859c.js" as="script"><link rel="prefetch" href="/assets/index.html-5d19f69b.js" as="script"><link rel="prefetch" href="/assets/设计模式.html-2f9c41de.js" as="script"><link rel="prefetch" href="/assets/性能优化.html-5b09854a.js" as="script"><link rel="prefetch" href="/assets/c__.html-105314a7.js" as="script"><link rel="prefetch" href="/assets/python.html-66adbade.js" as="script"><link rel="prefetch" href="/assets/git操作.html-ce9e96d2.js" as="script"><link rel="prefetch" href="/assets/数据结构与算法.html-a32659f4.js" as="script"><link rel="prefetch" href="/assets/算法刷题.html-8e9d686a.js" as="script"><link rel="prefetch" href="/assets/算法笔记重构.html-dad8c6c3.js" as="script"><link rel="prefetch" href="/assets/http.html-c1d55a2e.js" as="script"><link rel="prefetch" href="/assets/wireshark.html-acdb0532.js" as="script"><link rel="prefetch" href="/assets/计算机网络-刷题.html-7f7fc915.js" as="script"><link rel="prefetch" href="/assets/计算机网络.html-09705618.js" as="script"><link rel="prefetch" href="/assets/计算机网络第二版笔记.html-f5be0a45.js" as="script"><link rel="prefetch" href="/assets/操作系统.html-b970bfd1.js" as="script"><link rel="prefetch" href="/assets/index.html-3fc87102.js" as="script"><link rel="prefetch" href="/assets/disable.html-6bec11c2.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-83863a97.js" as="script"><link rel="prefetch" href="/assets/markdown.html-ed44fa58.js" as="script"><link rel="prefetch" href="/assets/page.html-76162d3d.js" as="script"><link rel="prefetch" href="/assets/index.html-f1658ed3.js" as="script"><link rel="prefetch" href="/assets/index.html-ddff38c3.js" as="script"><link rel="prefetch" href="/assets/baz.html-7cbbf1a5.js" as="script"><link rel="prefetch" href="/assets/index.html-0452bf23.js" as="script"><link rel="prefetch" href="/assets/ray.html-5b273016.js" as="script"><link rel="prefetch" href="/assets/Promise源码.html-d9f418b0.js" as="script"><link rel="prefetch" href="/assets/async-await.html-1d1bc4cb.js" as="script"><link rel="prefetch" href="/assets/typescript.html-7e60deba.js" as="script"><link rel="prefetch" href="/assets/拖拽.html-f2f50b9e.js" as="script"><link rel="prefetch" href="/assets/react基础语法.html-eb945896.js" as="script"><link rel="prefetch" href="/assets/vue3语法.html-5dd82e1b.js" as="script"><link rel="prefetch" href="/assets/vuex.html-8f90f97a.js" as="script"><link rel="prefetch" href="/assets/声明式渲染进阶.html-bf74ef95.js" as="script"><link rel="prefetch" href="/assets/自动注册全局组件.html-ee597793.js" as="script"><link rel="prefetch" href="/assets/spliteChunks.html-c8f751d0.js" as="script"><link rel="prefetch" href="/assets/index.html-55a0d63d.js" as="script"><link rel="prefetch" href="/assets/baz.html-ed3e2b0d.js" as="script"><link rel="prefetch" href="/assets/index.html-aefd4960.js" as="script"><link rel="prefetch" href="/assets/ray.html-53363499.js" as="script"><link rel="prefetch" href="/assets/404.html-5175d6bb.js" as="script"><link rel="prefetch" href="/assets/index.html-365c767d.js" as="script"><link rel="prefetch" href="/assets/index.html-1adf3a7e.js" as="script"><link rel="prefetch" href="/assets/index.html-6043b742.js" as="script"><link rel="prefetch" href="/assets/index.html-c963e552.js" as="script"><link rel="prefetch" href="/assets/index.html-a37bc919.js" as="script"><link rel="prefetch" href="/assets/index.html-b2cf9afd.js" as="script"><link rel="prefetch" href="/assets/index.html-d9209bb6.js" as="script"><link rel="prefetch" href="/assets/index.html-91c31cb3.js" as="script"><link rel="prefetch" href="/assets/index.html-b0e453f4.js" as="script"><link rel="prefetch" href="/assets/index.html-19b57fd4.js" as="script"><link rel="prefetch" href="/assets/index.html-3ad662c3.js" as="script"><link rel="prefetch" href="/assets/index.html-1a4fc0c3.js" as="script"><link rel="prefetch" href="/assets/index.html-b2618607.js" as="script"><link rel="prefetch" href="/assets/index.html-637a5a99.js" as="script"><link rel="prefetch" href="/assets/index.html-5d60c6ab.js" as="script"><link rel="prefetch" href="/assets/index.html-2e0fc06c.js" as="script"><link rel="prefetch" href="/assets/index.html-c67f97f4.js" as="script"><link rel="prefetch" href="/assets/index.html-f842d481.js" as="script"><link rel="prefetch" href="/assets/index.html-75044745.js" as="script"><link rel="prefetch" href="/assets/giscus-0b7adcf8.js" as="script"><link rel="prefetch" href="/assets/auto-fe80bb03.js" as="script"><link rel="prefetch" href="/assets/index-2bf332f6.js" as="script"><link rel="prefetch" href="/assets/flowchart-c441f34d.js" as="script"><link rel="prefetch" href="/assets/mermaid.core-95f2c2ee.js" as="script"><link rel="prefetch" href="/assets/highlight.esm-75b11b9d.js" as="script"><link rel="prefetch" href="/assets/markdown.esm-9d5bc2ce.js" as="script"><link rel="prefetch" href="/assets/math.esm-70a288c8.js" as="script"><link rel="prefetch" href="/assets/notes.esm-a106bb2c.js" as="script"><link rel="prefetch" href="/assets/reveal.esm-1a4c3ae7.js" as="script"><link rel="prefetch" href="/assets/search.esm-7e6792e2.js" as="script"><link rel="prefetch" href="/assets/zoom.esm-b83b91d0.js" as="script"><link rel="prefetch" href="/assets/VuePlayground-5dea20b1.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-1464cdb9.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand vp-brand" href="/"><img class="vp-nav-logo" src="/logo.svg" alt="文档演示"><!----><span class="vp-site-name hide-in-pad">文档演示</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="编程语言与技巧"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span>编程语言与技巧</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>前端技术</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a aria-label="JavaScript" class="vp-link nav-link nav-link" href="/Coding/frontend/js.html"><!---->JavaScript<!----></a></li><li class="dropdown-subitem"><a aria-label="Vue" class="vp-link nav-link nav-link" href="/Coding/frontend/vue.html"><!---->Vue<!----></a></li><li class="dropdown-subitem"><a aria-label="React" class="vp-link nav-link nav-link" href="/Coding/frontend/react/"><!---->React<!----></a></li><li class="dropdown-subitem"><a aria-label="Webpack" class="vp-link nav-link nav-link" href="/Coding/frontend/webpack/"><!---->Webpack<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>后端技术</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a aria-label="C++" class="vp-link nav-link nav-link" href="/Coding/backend/c__.html"><!---->C++<!----></a></li><li class="dropdown-subitem"><a aria-label="Python" class="vp-link nav-link nav-link" href="/Coding/backend/python.html"><!---->Python<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Git</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a aria-label="git操作" class="vp-link nav-link nav-link" href="/Coding/git/git%E6%93%8D%E4%BD%9C.html"><!---->git操作<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="计算机科学与技术"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span>计算机科学与技术</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-label="数据结构与算法" class="vp-link nav-link nav-link" href="/ComputerScience/algorithm.html"><!---->数据结构与算法<!----></a></li><li class="dropdown-item"><a aria-label="操作系统" class="vp-link nav-link nav-link" href="/ComputerScience/os.html"><!---->操作系统<!----></a></li><li class="dropdown-item"><a aria-label="计算机组成原理" class="vp-link nav-link nav-link" href="/ComputerScience/compositionPrinciple.html"><!---->计算机组成原理<!----></a></li><li class="dropdown-item"><a aria-label="计算机网络" class="vp-link nav-link nav-link" href="/ComputerScience/network.html"><!---->计算机网络<!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>AI</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a aria-label="动手学人工智能" class="vp-link nav-link nav-link" href="/ComputerScience/AI/动手学人工智能.html"><!---->动手学人工智能<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="代码最佳实践"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span>代码最佳实践</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-label="设计模式" class="vp-link nav-link nav-link" href="/BestPractice/design-pattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html"><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span>设计模式<!----></a></li><li class="dropdown-item"><a aria-label="前端性能优化" class="vp-link nav-link nav-link" href="/BestPractice/performance/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html"><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span>前端性能优化<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a aria-label="英语" class="vp-link nav-link nav-link" href="/English/"><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span>英语<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="数学" class="vp-link nav-link nav-link" href="/Math/"><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span>数学<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="日记" class="vp-link nav-link nav-link" href="/Individual.html"><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span>日记<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/vuepress-theme-hope/vuepress-theme-hope" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><!--[--><a aria-label="项目主页" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/"><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span>项目主页<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading clickable"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span><a aria-label="案例" class="vp-link nav-link vp-sidebar-title nav-link vp-sidebar-title" href="/demo/"><!---->案例<!----></a><!----></p><ul class="vp-sidebar-links"><li><!--[--><a aria-label="页面配置" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/demo/page.html"><span class="font-icon icon fa-fw fa-sm fas fa-file" style=""></span>页面配置<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Markdown 展示" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/demo/markdown.html"><span class="font-icon icon fa-fw fa-sm fab fa-markdown" style=""></span>Markdown 展示<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="布局与功能禁用" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/demo/disable.html"><span class="font-icon icon fa-fw fa-sm fas fa-gears" style=""></span>布局与功能禁用<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="密码加密的文章" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/demo/encrypt.html"><span class="font-icon icon fa-fw fa-sm fas fa-lock" style=""></span>密码加密的文章<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><span class="vp-sidebar-title">文档</span><!----></p><ul class="vp-sidebar-links"><li><!--[--><a aria-label="指南" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/guide/"><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span>指南<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span><span class="vp-sidebar-title">Bar 功能</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span><span class="vp-sidebar-title">Foo 功能</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><!--[--><a aria-label="幻灯片页" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/slides.html"><span class="font-icon icon fa-fw fa-sm fas fa-person-chalkboard" style=""></span>幻灯片页<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->面试八股文</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://mrhope.site" target="_blank" rel="noopener noreferrer">Mr.Hope</a></span><span property="author" content="Mr.Hope"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-10-09T03:03:19.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 31 分钟</span><meta property="timeRequired" content="PT31M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#javascript">JavaScript</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_1-js继承">1. js继承</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_2-js事件循环-宏任务-微任务">2. js事件循环, 宏任务, 微任务</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_3-深拷贝与循环引用">3. 深拷贝与循环引用</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_4-esm和cjs联系区别">4. esm和cjs联系区别</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_5-强缓存与协商缓存">5. 强缓存与协商缓存</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_6-类型判断-比如js如何判断一个实例是数组">6. 类型判断(比如JS如何判断一个实例是数组)</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_7-数组元素去重">7. 数组元素去重</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_8-遍历数据-对象或者数组的方法-for-in和-for-of的区别">8. 遍历数据(对象或者数组的方法), for..in和 for..of的区别</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_9-promise-实现原理-各个方法的特点-如race-all等">9. Promise(实现原理, 各个方法的特点, 如race,all等)</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_10-大文件上传与断点续传">10. 大文件上传与断点续传</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_11-防抖节流函数的具体实现">11. 防抖节流函数的具体实现</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_12-localstorage-sessionstorage-cookie的区别和联系-以及应用场景">12. localStorage, sessionStorage, cookie的区别和联系, 以及应用场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_13-cookie怎么防止被篡改">13. cookie怎么防止被篡改</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_14-原型链的理解">14. 原型链的理解</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_15-v8垃圾回收机制">15.  V8垃圾回收机制</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_16-观察者模式是什么-怎么实现">16. 观察者模式是什么? 怎么实现?</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_17-reduce的理解-最好手写reduce">17. reduce的理解, 最好手写reduce</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_18-为什么身份认证用cookie不用其他俩-本地和会话存储">18. 为什么身份认证用cookie不用其他俩(本地和会话存储)</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_20-讲讲异步编程-async-await-具体实现">20. 讲讲异步编程，async await 具体实现</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_21-url输入到页面渲染的整个过程">21. url输入到页面渲染的整个过程</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_22-new一个对象的过程">22. new一个对象的过程</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_23-闭包">23. 闭包</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#css">CSS</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_1-盒子居中的方案">1. 盒子居中的方案</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_2-css3有哪些新特性-渐变怎么用">2. css3有哪些新特性，渐变怎么用</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_3-bfc">3. BFC</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#react">React</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_1-react的有哪些常用hook">1. react的有哪些常用hook</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_2-fiber">2. fiber</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_3-react组件通信">3. react组件通信</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_4-hook和高阶组件各解决了什么问题-区别和联系">4. hook和高阶组件各解决了什么问题, 区别和联系</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_5-react-底层原理-了解越多越好">5. React 底层原理(了解越多越好)</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_6-react生命周期">6. react生命周期</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_7-react-的-setstate是同步还是异步">7. react 的 setState是同步还是异步</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_8-vue和react的区别">8. Vue和React的区别</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_10-react优化相关">10. React优化相关</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_11-usestate合并了哪些生命周期">11. useState合并了哪些生命周期</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_12-redux和rtk的基本用法">12.redux和RTK的基本用法</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_13-react中的高级api">13. react中的高级API</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#vue">Vue</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_1-vue组件间怎么通信的">1. vue组件间怎么通信的</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_2-v-for和v-if哪个优先级高">2. v-for和v-if哪个优先级高</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_4-你了解的vue底层源码实现">4.你了解的vue底层源码实现</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_5-watch和computed什么区别">5. watch和computed什么区别</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_6-vue-router中路由模式和区别">6.vue-router中路由模式和区别</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_7-nexttick原理">7. nextTick原理</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_8-如何实现图片懒加载">8. 如何实现图片懒加载</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#打包工具">打包工具</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_2-webpack用过的plugin-loader和其他配置">2. webpack用过的plugin,loader和其他配置</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_3-什么是前端工程化">3. 什么是前端工程化</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#计算机网络">计算机网络</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_1-get与post区别">1. get与post区别</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_2-正向代理和反向代理">2. 正向代理和反向代理</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_3-什么是跨域-怎么解决">3. 什么是跨域，怎么解决</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_4-jsonp是什么原理">4. JSONP是什么原理</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_5-什么是预检请求">5. 什么是预检请求</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_6-http1-和-http2-和-http3的区别">6. http1 和 http2 和 http3的区别</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_7-websocket">7. websocket</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_8-http和https区别">8. http和https区别</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_9-tcp-ip五层介绍一下">9.tcp/ip五层介绍一下</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_10-tcp-和-udp-区别">10.TCP 和 UDP 区别</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_11-http状态码">11. http状态码</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_12-怎么防止xss攻击">12. 怎么防止XSS攻击</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#封装技巧">封装技巧</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_1-如何封装一个表格-表单">1. 如何封装一个表格, 表单</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#git">git</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_1-代码遇到冲突怎么办">1. 代码遇到冲突怎么办</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_2-分支上代码没写完怎么缓存">2. 分支上代码没写完怎么缓存</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_3-git-stash">3. git stash</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_4-git怎么回退版本-版本id怎么查看">4. git怎么回退版本，版本id怎么查看</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#业务">业务</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_1-说下对rbac的理解-怎么实现">1. 说下对RBAC的理解，怎么实现</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_2-项目部署的流程-怎么解决跨域的">2 . 项目部署的流程 怎么解决跨域的</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_3-单点登录">3. 单点登录</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_4-你讲讲前端工程化在项目发布和部署这块有哪些要做的">4. 你讲讲前端工程化在项目发布和部署这块有哪些要做的</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_5-项目上线后-开发者如何提前自动获取到项目的-js-运行报错">5. 项目上线后, 开发者如何提前自动获取到项目的 js 运行报错</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_6-设计一个前端监控平台-项目中怎么接入监控平台的">6. 设计一个前端监控平台，项目中怎么接入监控平台的</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_7-jwt">7. jwt</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_8-后端返回大量条数据-前端如何进行优化-怎么处理暂不需要的数据">8. 后端返回大量条数据，前端如何进行优化(怎么处理暂不需要的数据)</a></li><!----><!--]--></ul></li><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="面试八股文" tabindex="-1"><a class="header-anchor" href="#面试八股文" aria-hidden="true">#</a> 面试八股文</h1><h2 id="javascript" tabindex="-1"><a class="header-anchor" href="#javascript" aria-hidden="true">#</a> JavaScript</h2><h3 id="_1-js继承" tabindex="-1"><a class="header-anchor" href="#_1-js继承" aria-hidden="true">#</a> 1. js继承</h3><p><a href="http://liufusong.top/interview/javascript/%E7%BB%A7%E6%89%BF.html#%E5%8E%9F%E5%9E%8B%E9%93%BE%E7%BB%A7%E6%89%BF" target="_blank" rel="noopener noreferrer">继承<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>原生的js实现继承主要纠结两件事</p><ol><li>每个对象拥有独立内存空间(原型链继承来的复杂数据类型, 每个子类对象共享)</li><li>可以子类对象可以访问父类对象所有属性和方法(包括父类原型链上的) (纯借用构造函数不能实现)</li></ol><p>方法1: 原型链继承, 子类构造函数的prototype指向父类的实例. 子类实例共享父类的引用数据类型</p><p>方法2: 借用构造函数, 用过call指定父构造函数的this指向子类实例, 缺点: 无妨访问父类原型上的方法和属性</p><p>方法3: 组合继承. 以上两种操作都做. 缺点是浪费, 构造函数已经为子类对象赋值了一遍, 子类原型指向父类实例时候又要new 一遍</p><p>方法4: 寄生式组合继承, 还是借用构造函数, 但是不再new 父类对象挂载到父类实例身上. 而是通过Object.create()</p><p>方法5: ES6 class的extends</p><h3 id="_2-js事件循环-宏任务-微任务" tabindex="-1"><a class="header-anchor" href="#_2-js事件循环-宏任务-微任务" aria-hidden="true">#</a> 2. js事件循环, 宏任务, 微任务</h3><p><a href="https://baijiahao.baidu.com/s?id=1737690006260755882&amp;wfr=spider&amp;for=pc" target="_blank" rel="noopener noreferrer">js事件循环, 宏任务, 微任务<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>这个知识点可以提一下vue的nextTick的机制, 就是利用事件循环与微任务完成了nextTick的功能</p><h3 id="_3-深拷贝与循环引用" tabindex="-1"><a class="header-anchor" href="#_3-深拷贝与循环引用" aria-hidden="true">#</a> 3. 深拷贝与循环引用</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 只考虑克隆数组和对象, 并且解决循环引用</span>
<span class="token keyword">const</span> <span class="token function-variable function">isArray</span> <span class="token operator">=</span> <span class="token parameter">data</span><span class="token operator">=&gt;</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&#39;[object Array]&#39;</span>
<span class="token keyword">const</span> <span class="token function-variable function">isObj</span> <span class="token operator">=</span> <span class="token parameter">data</span><span class="token operator">=&gt;</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&#39;[object Object]&#39;</span>

<span class="token keyword">const</span> deepClone <span class="token operator">=</span> <span class="token punctuation">(</span>data<span class="token punctuation">,</span>visted <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> ret<span class="token punctuation">,</span> value
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isObj</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ret <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isArray</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ret <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> data
    <span class="token punctuation">}</span>

    visted<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token comment">// 默认data被观测过</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> old <span class="token keyword">in</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        value <span class="token operator">=</span> data<span class="token punctuation">[</span>old<span class="token punctuation">]</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>visted<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 解决循环引用, 当某个对象被观测过后, 缓存一下 如果被观测过直接赋值</span>
            ret<span class="token punctuation">[</span>old<span class="token punctuation">]</span> <span class="token operator">=</span> value 
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isArray</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token function">isObj</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            ret<span class="token punctuation">[</span>old<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span>visted<span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            ret<span class="token punctuation">[</span>old<span class="token punctuation">]</span> <span class="token operator">=</span> value
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> ret

<span class="token punctuation">}</span>
<span class="token keyword">const</span> a1 <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;zs&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">person</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">p1</span><span class="token operator">:</span> <span class="token string">&#39;ls&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">p2</span><span class="token operator">:</span> <span class="token string">&#39;hmm&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hobbys</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;zs2&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&#39;抽烟&#39;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

a1<span class="token punctuation">.</span>a <span class="token operator">=</span> a1
<span class="token comment">// 模拟循环引用</span>
<span class="token keyword">const</span> a2 <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-esm和cjs联系区别" tabindex="-1"><a class="header-anchor" href="#_4-esm和cjs联系区别" aria-hidden="true">#</a> 4. esm和cjs联系区别</h3><p><a href="https://es6.ruanyifeng.com/#docs/module-loader#ES6-%E6%A8%A1%E5%9D%97%E4%B8%8E-CommonJS-%E6%A8%A1%E5%9D%97%E7%9A%84%E5%B7%AE%E5%BC%82" target="_blank" rel="noopener noreferrer">阮一峰之esm和cjs联系区别<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>总结</p><ol><li>在nodejs中 cjs模块的文件后缀为 .cjs, esm模块的文件后缀为.mjs. 如果文件后缀为.js文件, 则看package.json中的type字段, 如果type : moudle 则视为esm模块, type不指定或type:commonjs, 则为cjs模块</li><li>cjs输出的为值拷贝, 外部模块修改本模块的变量, 对本模块不影响. esm模块输出的值引用. 可以从外部模块修改本模块</li><li>esm的import在解析时候会提升到本模块的顶层解析</li></ol><h3 id="_5-强缓存与协商缓存" tabindex="-1"><a class="header-anchor" href="#_5-强缓存与协商缓存" aria-hidden="true">#</a> 5. 强缓存与协商缓存</h3><p><a href="https://github.com/amandakelake/blog/issues/41" target="_blank" rel="noopener noreferrer">强缓存与协商缓存<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>总结:</p><p>从设置缓存的目的开始回答这道题: 优化再一次打开页面的速度</p><h3 id="_6-类型判断-比如js如何判断一个实例是数组" tabindex="-1"><a class="header-anchor" href="#_6-类型判断-比如js如何判断一个实例是数组" aria-hidden="true">#</a> 6. 类型判断(比如JS如何判断一个实例是数组)</h3><ol><li><p>typeof 判断类型字符串, 缺点是无法判断null, 无法判断数组</p></li><li><p>Object.prototype.toString.call(data) 可以输出固定的[object stringTagName]字符串. 其中基本数据类型的string tag是内置. 可以通过给对象赋值 Symbol.toStringTag修改string tag的名字</p><ul><li><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>toStringTag<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">&#39;我的对象&#39;</span> <span class="token punctuation">}</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
 <span class="token comment">// 输出 &#39;[object 我的的对象]&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p>instanceof 判断右边构造函数的原型对象是否在左对象的原型链上(左对象的原型链上放着所有自己的父亲/爷爷, 看看自己的爷爷有没有右边的)</p></li></ol><h3 id="_7-数组元素去重" tabindex="-1"><a class="header-anchor" href="#_7-数组元素去重" aria-hidden="true">#</a> 7. 数组元素去重</h3><ol><li>new Set去重</li><li>新建数组, 遍历时候向数组添加元素, 有重复的则不添加</li></ol><h3 id="_8-遍历数据-对象或者数组的方法-for-in和-for-of的区别" tabindex="-1"><a class="header-anchor" href="#_8-遍历数据-对象或者数组的方法-for-in和-for-of的区别" aria-hidden="true">#</a> 8. 遍历数据(对象或者数组的方法), for..in和 for..of的区别</h3><p>for..in:</p><p>用于遍历对象上<strong>包括其原型链上</strong>的<strong>可枚举的</strong>, <strong>非Symbol</strong>的属性</p><p>可枚举的意思是, 通过Object.defineProperties() 定义属性时候, enumable不为false的属性.</p><p>由于js的数组实现比较魔幻, 可以看做另类的对象, 所以for..in也可以遍历数组, 但不建议</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&#39;s-key&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token string">&#39;你好&#39;</span> <span class="token comment">// 测试能否遍历symbol</span>
<span class="token punctuation">}</span>
obj<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">18</span> <span class="token comment">// 测试能否遍历原型的属性</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">&#39;notForIn&#39;</span><span class="token punctuation">,</span><span class="token punctuation">{</span> <span class="token comment">// 测试能否迭代不能枚举的属性</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span><span class="token string">&#39;不能枚举&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">enumable</span><span class="token operator">:</span><span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// 开始测试</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">key: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> value:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 输出</span>
<span class="token comment">// key: name value:张三</span>
<span class="token comment">// key: age value:18</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>for...of..</p><p>迭代实现了Symbol.iterator的结构数据结构. js语言已经内置实现了 数组, map,set等数据结构的可迭代接口, 要注意plain object是没有实现该接口. 如果想让for..of迭代对象, 需要手动实现该接口</p><p>以下是一个实现迭代器接口对象的例子</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> iterableObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hobbys</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&#39;抽烟&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;喝酒&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;烫头&#39;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">// 迭代接口函数的this指向原对象</span>
iterableObj<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">let</span> done <span class="token operator">=</span> <span class="token boolean">false</span>
  <span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token keyword">let</span> keys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> idx <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">let</span> _self <span class="token operator">=</span> <span class="token keyword">this</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">let</span> key <span class="token operator">=</span> keys<span class="token punctuation">[</span>idx<span class="token punctuation">]</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">{</span>
        value <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">key: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, value:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>_self<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
        idx<span class="token operator">++</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
        value <span class="token operator">=</span> <span class="token keyword">null</span>
        done <span class="token operator">=</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span> value<span class="token punctuation">,</span>done <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> iterableObj<span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>generator函数实现</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;zhangsan&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">18</span>
<span class="token punctuation">}</span>

map<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> keys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> keys<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">yield</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">key为</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>keys<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">; value为</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">[</span>keys<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>	 
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> map <span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_9-promise-实现原理-各个方法的特点-如race-all等" tabindex="-1"><a class="header-anchor" href="#_9-promise-实现原理-各个方法的特点-如race-all等" aria-hidden="true">#</a> 9. Promise(实现原理, 各个方法的特点, 如race,all等)</h3><p><a href="https://syriansoldier.github.io/js/Promise%E6%BA%90%E7%A0%81.html" target="_blank" rel="noopener noreferrer">手写一个promise<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="_10-大文件上传与断点续传" tabindex="-1"><a class="header-anchor" href="#_10-大文件上传与断点续传" aria-hidden="true">#</a> 10. 大文件上传与断点续传</h3><p><a href="https://juejin.cn/post/6844903968338870285#heading-0" target="_blank" rel="noopener noreferrer">大文件上传与断点续传 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>总结:</p><ol><li>获取File. 可以通过drag&amp;dropAPI 或者 input:file获取文件对象</li><li>文件分片: 通过Blob.slice(start,end)Api将文件分成若干片</li><li>缓存已上传ContentHash. 通过sparkMD5包, 对每一个上传过文件片段缓存其hash值</li><li>开始上传: 判断上传的片段是否缓存过hash值, 如果已经上传过就跳过该片段</li><li>并发控制: 需要考虑http1.1高tcp链接时候的队头阻塞现象, 对并发tcp数进行限制, 可以限制到4个. 利用<a href="https://www.npmjs.com/package/p-limit" target="_blank" rel="noopener noreferrer">p-limit<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 库限制并发的tcp数</li><li>合并请求: 当上传完所有分片后, 给后端传一个合并分片的请求, 后端接到合并的请求后将所有片段合并</li></ol><h3 id="_11-防抖节流函数的具体实现" tabindex="-1"><a class="header-anchor" href="#_11-防抖节流函数的具体实现" aria-hidden="true">#</a> 11. 防抖节流函数的具体实现</h3><p>复杂的看lodash或者underscore.js的debounce和throttle实现</p><p>简易版:</p><p><strong>防抖</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//只考虑处理原函数this问题, 参数问题, 和返回值问题</span>
<span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span>wait</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">let</span> timer
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> self <span class="token operator">=</span> <span class="token keyword">this</span>
    <span class="token keyword">const</span> args <span class="token operator">=</span> arguments  
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>
    timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span><span class="token operator">...</span>args<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>wait<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> 

document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;mousemove&#39;</span><span class="token punctuation">,</span><span class="token function">debounce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>节流</strong></p><p>节流阀实现</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">let</span> timer
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>timer<span class="token punctuation">)</span><span class="token punctuation">{</span>
    	<span class="token keyword">let</span> args <span class="token operator">=</span> arguments
        <span class="token keyword">let</span> self <span class="token operator">=</span> <span class="token keyword">this</span>
        timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          timer <span class="token operator">=</span> <span class="token keyword">null</span>
          <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">)</span>
       <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span>   
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>计算时间差实现</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">let</span> previous <span class="token operator">=</span> <span class="token number">0</span> 
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  	<span class="token keyword">let</span> current <span class="token operator">=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>current <span class="token operator">-</span> previous<span class="token punctuation">)</span> <span class="token operator">&lt;</span> wait<span class="token punctuation">)</span> <span class="token keyword">return</span>
    
    previous <span class="token operator">=</span> current
    <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">...</span>arguments<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_12-localstorage-sessionstorage-cookie的区别和联系-以及应用场景" tabindex="-1"><a class="header-anchor" href="#_12-localstorage-sessionstorage-cookie的区别和联系-以及应用场景" aria-hidden="true">#</a> 12. localStorage, sessionStorage, cookie的区别和联系, 以及应用场景</h3><p><a href="https://www.bilibili.com/video/BV1SL4y1i7ZL/?spm_id_from=333.337.search-card.all.click&amp;vd_source=20bf77d62633a13b190b5fb3785b2e34" target="_blank" rel="noopener noreferrer">cookie和web存储的区别 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>客户端设置cookie</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">&quot;en&quot;</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token string">&quot;X-UA-Compatible&quot;</span> content<span class="token operator">=</span><span class="token string">&quot;IE=edge&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">&quot;viewport&quot;</span> content<span class="token operator">=</span><span class="token string">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Document<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>form action<span class="token operator">=</span><span class="token string">&quot;/&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;form&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>label <span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;username&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>用户名<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;username&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>label <span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;password&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>密码<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;password&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>label <span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;remember&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>记住我<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;checkbox&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;remember&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;login&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token comment">// 需求, 当点击记住我时候, 记住账号和密码</span>

    <span class="token keyword">const</span> form <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;#form&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> remember <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;#remember&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> password <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;#password&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> username <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;#username&#39;</span><span class="token punctuation">)</span>

    <span class="token comment">// 尝试加载cookie</span>
    <span class="token keyword">const</span> cookie <span class="token operator">=</span> document<span class="token punctuation">.</span>cookie
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cookie<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> arr <span class="token operator">=</span> cookie<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;; &#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">str</span> <span class="token operator">=&gt;</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;=&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">===</span> <span class="token string">&#39;username&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          username<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">===</span> <span class="token string">&#39;password&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          password<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    form<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;submit&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>remember<span class="token punctuation">.</span>checked<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 将用户名和密码存到cookie中</span>

        <span class="token comment">// 通过document.cookie设置cookie.以;分割键值对.</span>
        <span class="token comment">// 如果不设置留存时间, 默认cookie在关闭页面后自动消失</span>
        <span class="token comment">// 可以通过max-age设置cookie的有效期, 单位是秒</span>
        <span class="token comment">// 一般对value进行url编码</span>
        <span class="token keyword">const</span> psd <span class="token operator">=</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>password<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
        <span class="token keyword">const</span> uname <span class="token operator">=</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>username<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
        <span class="token keyword">const</span> time <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token comment">// 2天</span>

        document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">username=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>uname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;max-age=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>time<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;</span><span class="token template-punctuation string">`</span></span>
        document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">password=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>psd<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;max-age=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>time<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;</span><span class="token template-punctuation string">`</span></span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>服务端在响应头中 set-cookie响应头中设置cookie</p><p>区别:</p><p>大小: web存储: 5mb-10mb左右, cookie:4kb</p><p>能否设置过期: localStorage不能设置, sessionStorage关闭页签即消失, cookie可以手动设置过期时间</p><p>存储位置: cookie存在于服务端和客户端, web存储存在客户端</p><p>使用场景:</p><p>localStorage: 主要存放一些大数据, 不需要通知服务端知道的数据. 比如用户搜索历史记录, 还有vuex,redux这种第三方库需要持久化的数据</p><p>sessionStorage: 做敏感信息处理的时候, 比如敏感账号的一次登录</p><p>cookie: 账号密码等存储, 不希望一直记住, 希望有时间限制存储的, 容量比较小的数据</p><h3 id="_13-cookie怎么防止被篡改" tabindex="-1"><a class="header-anchor" href="#_13-cookie怎么防止被篡改" aria-hidden="true">#</a> 13. cookie怎么防止被篡改</h3><blockquote><p><a href="https://www.kancloud.cn/kancloud/http-cookies-explained/48323" target="_blank" rel="noopener noreferrer">https://www.kancloud.cn/kancloud/http-cookies-explained/48323<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><ol><li>服务端设置http-only, 服务端设置的http-only 前端不能通过js脚本的document.cookie获取cookie</li><li>加密, 比如3DES对称加密算法, 服务端发cookie之前先加密, 获取的时候解密先验证</li></ol><h3 id="_14-原型链的理解" tabindex="-1"><a class="header-anchor" href="#_14-原型链的理解" aria-hidden="true">#</a> 14. 原型链的理解</h3><p>对象的__proto__ 指向该对象的原型对象</p><p>构造函数的prototype指向原型对象</p><p>原型对象的contructor指向构造函数</p><p>原型链的尽头是null</p><h3 id="_15-v8垃圾回收机制" tabindex="-1"><a class="header-anchor" href="#_15-v8垃圾回收机制" aria-hidden="true">#</a> 15. V8垃圾回收机制</h3><p><a href="https://zhuanlan.zhihu.com/p/259579683" target="_blank" rel="noopener noreferrer">深入V8垃圾回收机制<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>总结:</p><ol><li>堆被分为新生代区和老生代区. 新创建的对象会被放在新生代区, 在新生代区经历两次垃圾回收的对象会晋升到老生代区</li><li>新生代区又分为from区和to区, 这里的对象采用的垃圾回收算法为scavenage算法, 算法核心思路是 1. 标记, 从根节点遍历所有可达节点标记为活动节点, 遍历不到的为非活跃节点 2.复制. 将from区的活动节点cv到to区 3. 整理. 复制到to区的对象可能不连续, 整理成连续的结构 4. 删除与复制. 将from区所有节点 包括活跃与非活跃的都删除.并将to区整理好的活跃节点复制会from区</li><li>老生代区采用标记清除和标记清理. 原理是从根节点标记可达对象, 将未标记到的非活跃对象删除. 然后再整理成连续内存. 老生代区的空间比较大</li><li>全停顿现象: 当整理对象时候, 对象的内存地址在变化, 此时会将js逻辑停下, 整理对象. 此称为全停顿. 另外标记的过程也占用主线程资源, 可能会导致js运行不流畅</li><li>优化手段: 增量标记与惰性清除. 增量标记: 分片思想, 将标记的过程分为若干片段, 穿插在js逻辑代码的间隙中执行, 每次只执行一点标记. 惰性清除: 原本执行清除时候先判断现在内存空间是否够用, 如果够用可以延缓gc的过程, 即推迟gc的流程到合适的时间点执行</li></ol><h3 id="_16-观察者模式是什么-怎么实现" tabindex="-1"><a class="header-anchor" href="#_16-观察者模式是什么-怎么实现" aria-hidden="true">#</a> 16. 观察者模式是什么? 怎么实现?</h3><h3 id="_17-reduce的理解-最好手写reduce" tabindex="-1"><a class="header-anchor" href="#_17-reduce的理解-最好手写reduce" aria-hidden="true">#</a> 17. reduce的理解, 最好手写reduce</h3><blockquote><p>reduce的核心是用变量缓存上一次计算的结果和对initialValue不同情况的处理</p><p>当不传入initialValue时候, 会用第一项的值作为初始值, 会从第二项开始遍历执行函数</p><p>当传入initialValue时候, 会用initialValue作为初始值, 从第一项开始遍历执行函数</p></blockquote><p><a href="https://www.bilibili.com/video/BV1Q5411E7bb/?spm_id_from=333.337.search-card.all.click&amp;vd_source=20bf77d62633a13b190b5fb3785b2e34" target="_blank" rel="noopener noreferrer">手写reduce<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
<span class="token comment">// arr.reduce((prev,curr) =&gt; prev + curr) //输出 21</span>
arr<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function-variable function">_reduce</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span>initialValue</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// 边界判断</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">&#39;[object Function]&#39;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;请传入正确的参数&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 不能简单的判断initialValue不存在, 因为当initialValue手动传入undefined时候也会计算</span>
  <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token keyword">this</span>
  <span class="token keyword">const</span> <span class="token function-variable function">notInitialValue</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> arguments<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">1</span> 
  <span class="token keyword">let</span> temp <span class="token operator">=</span> <span class="token function">notInitialValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">:</span> initialValue <span class="token comment">// 如果只传了函数, 初始值为第一项. 否则初始值为指定的initialValue</span>
  <span class="token keyword">let</span> start <span class="token operator">=</span> <span class="token function">notInitialValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span> <span class="token comment">// 传了initialValue从第0项开始计算, 不传因为第一项已经设置为默认值, 从第二项开始计算</span>
  
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> start <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> start<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    temp <span class="token operator">=</span> <span class="token function">func</span><span class="token punctuation">(</span>temp<span class="token punctuation">,</span> arr<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token punctuation">,</span>start<span class="token punctuation">,</span>arr<span class="token punctuation">)</span> <span class="token comment">// 计算本次的值, 并赋值给temp</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">return</span> temp <span class="token comment">// 将最终计算的值返回</span>
<span class="token punctuation">}</span>
arr<span class="token punctuation">.</span><span class="token function">_reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prev<span class="token punctuation">,</span>curr</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> prev <span class="token operator">+</span> curr<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_18-为什么身份认证用cookie不用其他俩-本地和会话存储" tabindex="-1"><a class="header-anchor" href="#_18-为什么身份认证用cookie不用其他俩-本地和会话存储" aria-hidden="true">#</a> 18. 为什么身份认证用cookie不用其他俩(本地和会话存储)</h3><p>因为cookie可以弥补http的无状态, 每次请求时, 在cookie请求头上加上身份认证信息, 可以让服务端知道请求的是人是否是同一位. 而另外两个最主要还是做客户端的存储的, 发请求还要拿出来放在ajax里发出去, 也比较麻烦</p><h3 id="_20-讲讲异步编程-async-await-具体实现" tabindex="-1"><a class="header-anchor" href="#_20-讲讲异步编程-async-await-具体实现" aria-hidden="true">#</a> 20. 讲讲异步编程，async await 具体实现</h3><blockquote><p>异步编程的主要应用场景是与后端交互</p><p>整个交互过程主要依赖在new 一个 promise, 并发送ajax请求, 并监听请求被响应, 当响应时候resolve数据, promise会在resolve后将then中回调执行. 一般回调都是业务上关于处理数据的代码. 其实总结一下就是依赖两点: 1. promise的发布订阅机制(将then中的回调缓存, 在resolve的时候调用) 2. ajax提供的监听响应状态(当响应时候resolve数据)</p><p>而现在流行的async和await, async利用了generator函数给函数提供了暂停的功能, await将后面修饰的promise直接拿到结果, 从而减少了回调</p></blockquote><p><strong>先模拟一个常见的业务: 发送请求获取后端数据</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 模拟ajax请求, 获取后端爱好数据</span>
<span class="token keyword">const</span> <span class="token function-variable function">fetchHobby</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;吃饭&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;喝酒&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;烫头&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token punctuation">)</span>
 <span class="token comment">// 模拟业务中获取数据</span>
 <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getArr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetchHobby</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
 <span class="token punctuation">}</span>

<span class="token function">getArr</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p><strong>上面的代码会被编译成类似的代码</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 模拟ajax请求, 获取后端爱好数据</span>
<span class="token keyword">const</span> <span class="token function-variable function">fetchHobby</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;吃饭&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;喝酒&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;烫头&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token comment">// 上面的代码, 会被编译成类似代码</span>
<span class="token comment">// async 变成了 *, await 变成了yield</span>
<span class="token comment">// 另外引用了co包裹了getArr的调用</span>
<span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">getArr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">fetchHobby</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">co</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//... 代码略}</span>
<span class="token function">co</span><span class="token punctuation">(</span><span class="token function">getArr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>来看下 * 函数和co库分别是干什么的</strong></p><p><code>*</code> 函数又名generator函数, 该函数yield可以暂停语句的执行, 另外函数可以向函数外传递参数, 函数外也可以向函数内传递参数</p><p><strong>案例一: 向函数外传递参数</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;zhangsan&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">18</span>
<span class="token punctuation">}</span>

map<span class="token punctuation">[</span>Symbole<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> keys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> keys<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">yield</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">key为</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>keys<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">; value为</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">[</span>keys<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>	 
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> map <span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>案例二: 向函数内传递参数</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> a1 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token number">1</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span>
    <span class="token keyword">const</span> a2 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token number">2</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> it <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 获得迭代器</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span><span class="token literal-property property">value</span><span class="token operator">:</span> v1<span class="token punctuation">}</span> <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// next方法可以为yield赋右值, 可以接受yiled左值</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v1<span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span><span class="token literal-property property">value</span><span class="token operator">:</span> v2<span class="token punctuation">}</span> <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token string">&#39;a1的值&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v2<span class="token punctuation">)</span>
it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token string">&#39;a2的值&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// 输出顺序</span>
<span class="token comment">// 1 a1的值    2 a2的值</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>co库的实现</strong></p><blockquote><p>co库实现的就是, 等待yeild后面的promise出结果, 然后把结果赋值给左边变量. 并将过程循环到函数执行完毕</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">co</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">it<span class="token punctuation">,</span>prev</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>value<span class="token punctuation">,</span>done<span class="token punctuation">}</span> <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>prev<span class="token punctuation">)</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>done<span class="token punctuation">)</span> <span class="token keyword">return</span> 
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>value <span class="token keyword">instanceof</span> <span class="token class-name">Promise</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    value <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  value<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token function">co</span><span class="token punctuation">(</span>it<span class="token punctuation">,</span>res<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_21-url输入到页面渲染的整个过程" tabindex="-1"><a class="header-anchor" href="#_21-url输入到页面渲染的整个过程" aria-hidden="true">#</a> 21. url输入到页面渲染的整个过程</h3><ol><li>判断是否是url. 非url会被视为搜索关键词, 没有协议会自动补齐协议, 调用默认搜索引擎搜索</li><li>判断浏览器是否需要卸载原页面(如果有的话)</li><li>判断请求的html是否曾经请求过, 是否301. 如果是301永久重定向, 则取出location中的url作为代替url发起请求</li><li>判断请求的html是否命中缓存, 如果命中缓存, 则判断是命中强缓存还是协商缓存</li><li>DNS解析. 将域名解析成ip. 这里面有个递归找DNS服务器的过程, 具体不太了解, 想要了解自行百度</li><li>建立TCP链接(三次握手)</li><li>判断是否https, 否则还要经历SSL协商的过程</li><li>建立TCP管道后, 服务端返回html</li><li>对于http1.1 需要看是否connection:keep-alive.还是connection:close判断是否需要断开tcp链接(四次挥手). 对于http2, 直接复用</li><li>浏览器解析html, 请求相关依赖, 其他的css,js等</li><li>做渲染: DOM --&gt; DOM树. CSS --&gt; CSSOM树. --&gt; 合成render树,---&gt; 再layout计算 --&gt; 绘制 --&gt; 图层复合 --&gt; 显示到页面上</li></ol><h3 id="_22-new一个对象的过程" tabindex="-1"><a class="header-anchor" href="#_22-new一个对象的过程" aria-hidden="true">#</a> 22. new一个对象的过程</h3><p>四步:</p><ol><li>创建一个新对象</li><li>指定该对象的原型(对象的原型对象应该和构造函数的原型一样)</li><li>指定this为这个对象</li><li>判断是否返回引用数据类型, 如果返回引用数据类型, 则直接返回引用数据类型, 原来的对象不要了</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">_new</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">Func<span class="token punctuation">,</span><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> 
  obj<span class="token punctuation">.</span>_proto__ <span class="token operator">=</span> <span class="token class-name">Func</span><span class="token punctuation">.</span>prototype
  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">Func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>args<span class="token punctuation">)</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> result <span class="token operator">===</span> <span class="token string">&#39;object&#39;</span> <span class="token operator">&amp;&amp;</span> result <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> result
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> obj
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">18</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;zhangsan&#39;</span>
<span class="token punctuation">}</span>

<span class="token function">_new</span><span class="token punctuation">(</span>Person<span class="token punctuation">,</span>args<span class="token punctuation">)</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_23-闭包" tabindex="-1"><a class="header-anchor" href="#_23-闭包" aria-hidden="true">#</a> 23. 闭包</h3><p><a href="https://www.zhihu.com/question/34210214?sort=created" target="_blank" rel="noopener noreferrer">什么是闭包<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>总结:</p><ol><li>面试装13关键词: 词法作用域. <a href="https://www.cnblogs.com/lwl0812/p/9792162.html" target="_blank" rel="noopener noreferrer">词法作用域详解<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 决定了子函数能访问父函数</li><li>由于子函数被返回, 依然是子函数, 所以访问了父函数里的变量. 就造成了闭包</li><li>谈一谈闭包的看法: 有意识的闭包不属于内存泄露, 无意识的闭包属于内存泄露, 比如IE6回收DOM对象采用引用计数, 如果循环引用了就会造成GC异常, 导致内存泄露</li><li>谈谈排查内存泄漏, chrome的performace选项卡和memory选项卡</li></ol><h2 id="css" tabindex="-1"><a class="header-anchor" href="#css" aria-hidden="true">#</a> CSS</h2><h3 id="_1-盒子居中的方案" tabindex="-1"><a class="header-anchor" href="#_1-盒子居中的方案" aria-hidden="true">#</a> 1. 盒子居中的方案</h3><ol><li>定位 + margin. 子绝父相, left和top都是50% 再用margin调整</li><li>定位 + transform. 子绝父相. left和top都是50% 再用transform调整</li><li>margin:auto;子绝父相, left,top,right,bottom都为0, margin为auto</li><li>flex布局. 父亲justify-content:center, align-items:center</li></ol><h3 id="_2-css3有哪些新特性-渐变怎么用" tabindex="-1"><a class="header-anchor" href="#_2-css3有哪些新特性-渐变怎么用" aria-hidden="true">#</a> 2. css3有哪些新特性，渐变怎么用</h3><ol><li><p>动画 @keyframe 关键帧</p></li><li><p>过渡 transition</p></li><li CSS-Code=""><p>媒体查询 @media media-type and/not/only (media feature)</p></li><li><p>transform 2d/3D几何变换, 平移/旋转/缩放</p></li><li><p>flex布局</p></li><li><p>背景渐变.. background-image: linear-gradient(direction, color-stop1, color-stop2, ...);</p><p>...</p><p>​</p><p>这种面试题没必要答完, 枚举个几个就行</p></li></ol><h3 id="_3-bfc" tabindex="-1"><a class="header-anchor" href="#_3-bfc" aria-hidden="true">#</a> 3. BFC</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/CSS/Block_formatting_context" target="_blank" rel="noopener noreferrer">什么是BFC--mdn文档 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>BFC(Blocking-formatter-context)又叫块级格式化上下文.</p><p>它是指定盒子的类型的, 被指定为BFC容器的盒子, 拥有自己的独特的特性(好几条)</p><p><strong>BFC盒子的特性</strong></p><ol><li>浮动相关. BFC盒子如果是浮动的, 则会压着标准流的盒子, 如果父子盒子都是BFC容器且浮动, 子盒子不会浮出父盒子</li><li>同一个BFC盒子相邻的子盒子会外边距合并. 不同BFC盒子中子盒子即使相邻也不会合并</li></ol><p><strong>怎么指定BFC</strong></p><ol><li>有副作用的触发 : float浮动, overflow不为hidden, flex布局</li><li>无副作用的触发: html根节点默认为BFC盒子, display:flow-root</li></ol><p><strong>测试代码</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">&quot;en&quot;</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token string">&quot;X-UA-Compatible&quot;</span> content<span class="token operator">=</span><span class="token string">&quot;IE=edge&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">&quot;viewport&quot;</span> content<span class="token operator">=</span><span class="token string">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Document<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
    <span class="token comment">/* 不加这个会外边距塌陷 */</span>
    <span class="token punctuation">.</span>c <span class="token punctuation">{</span>
      <span class="token literal-property property">display</span><span class="token operator">:</span> flow<span class="token operator">-</span>root<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">.</span>d1<span class="token punctuation">,</span>
    <span class="token punctuation">.</span>d2 <span class="token punctuation">{</span>
      <span class="token literal-property property">width</span><span class="token operator">:</span> 200px<span class="token punctuation">;</span>
      <span class="token literal-property property">height</span><span class="token operator">:</span> 200px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">.</span>d1 <span class="token punctuation">{</span>
      background<span class="token operator">-</span>color<span class="token operator">:</span> red<span class="token punctuation">;</span>
      margin<span class="token operator">-</span>bottom<span class="token operator">:</span> 200px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">.</span>d2 <span class="token punctuation">{</span>
      background<span class="token operator">-</span>color<span class="token operator">:</span> orange<span class="token punctuation">;</span>
      margin<span class="token operator">-</span>top<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;c&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;d1&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;d2&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="react" tabindex="-1"><a class="header-anchor" href="#react" aria-hidden="true">#</a> React</h2><h3 id="_1-react的有哪些常用hook" tabindex="-1"><a class="header-anchor" href="#_1-react的有哪些常用hook" aria-hidden="true">#</a> 1. react的有哪些常用hook</h3><p><strong>useState</strong></p><p><a href="https://cloud.tencent.com/developer/article/2138383" target="_blank" rel="noopener noreferrer">新手使用useState容易犯的错误<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><strong>基本用法: 计数器案例</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&quot;./styles.css&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">incremetCount</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;App&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Count<span class="token operator">:</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>incremetCount<span class="token punctuation">}</span><span class="token operator">&gt;</span>增加数字<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>useState的异步更新</strong></p><blockquote><p>useState更新数据是异步的, 更新后不能立即在本函数内获取数据</p><p>并且这是由于闭包陷阱导致的, 闭包陷阱在后面会详细说, 我们先看看异步更新例子</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&quot;./styles.css&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> flushSync <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-dom&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">increment</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  不能更新拿到count</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;App&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>数字<span class="token operator">:</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>increment<span class="token punctuation">}</span><span class="token operator">&gt;</span>增加<span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p><strong>ReactHooks的闭包陷阱</strong></p><blockquote><p>下面这个例子展示了一个计数器的案例, 当点击+1时, 数字+1. 并且在第一次的初始化的开启间隔定时器, 一直向控制台输出count的值</p><p>但是会发现, 无论数字增加到几, 打印输出的永远是零.</p><p>这种现象被称为 react hooks的闭包陷阱</p></blockquote><blockquote><p>原因是, 当写下函数的时候, 词法上下文就确定了, count访问一直是第一个函数App里的count, 他的值为0</p><p>之后每一次setCount 都会再执行一遍函数App, count虽然变化了, 但是是别的App函数里的count发生变化, 而非第一个App函数中count</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&quot;./styles.css&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>


<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span>setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

   <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">/* 不管怎么点击增加1, 打印的都是0 */</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

 <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;App&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>数字<span class="token operator">:</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token comment">/* 不管怎么点击增加1, 打印的都是0 */</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setCount</span><span class="token punctuation">(</span><span class="token parameter">count</span> <span class="token operator">=&gt;</span> count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>增加<span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>使用useRef规避上述案例的闭包陷阱</strong></p><blockquote><p>useRef用起来相当于一个全局变量.</p><p>我们可以不访问闭包中的count, 而是把每次更新的count放到useRef营造的全局变量中.</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&quot;./styles.css&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState<span class="token punctuation">,</span> useRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> countRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 用ref缓存count</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>countRef<span class="token punctuation">.</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 打印缓存中count</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;App&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>数字<span class="token operator">:</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button
        onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
          <span class="token function">setCount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">count</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// 每次变化的时候, 更新ref的值</span>
            countRef<span class="token punctuation">.</span>current <span class="token operator">=</span> count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> countRef<span class="token punctuation">.</span>current<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token operator">&gt;</span>
        增加<span class="token number">1</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>在开发中, 使用useState时候避免闭包陷阱的策略</strong></p><blockquote><p>下面依然是一个计数器的案例</p><p>有两个函数 : increment函数为立即加一的操作. incrementLater函数为三秒后加1的操作</p><p>现在, 先点一下&quot;一会增加1&quot;按钮, 然后快速, 连续的点击&quot;增加1&quot;按钮. 你会发现, 数字增加到一个值后, 突然变成1了</p></blockquote><blockquote><p>原因: 这还是一个闭包陷阱的例子. 当一开始点击&quot;一会增加1&quot;按钮后, 当时的count的为0, 此后再频繁点击连续, count虽然增加了, 但是不是第一个App函数中count变了, 而是后面的App函数中的count变了</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&quot;./styles.css&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">increment</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">incrementLater</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>increment<span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;App&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>数字<span class="token operator">:</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>increment<span class="token punctuation">}</span><span class="token operator">&gt;</span>增加<span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>incrementLater<span class="token punctuation">}</span><span class="token operator">&gt;</span>一会增加<span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>使用函数式setState避免上述问题</strong></p><blockquote><p>建议setState使用函数式</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&quot;./styles.css&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 只需要改这一行, 避免直接修改state, 用函数式</span>
  <span class="token keyword">const</span> <span class="token function-variable function">increment</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setCount</span><span class="token punctuation">(</span><span class="token parameter">preCount</span> <span class="token operator">=&gt;</span> preCount <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">incrementLater</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>increment<span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;App&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>数字<span class="token operator">:</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>increment<span class="token punctuation">}</span><span class="token operator">&gt;</span>增加<span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>incrementLater<span class="token punctuation">}</span><span class="token operator">&gt;</span>一会增加<span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>**为什么useState被设计成异步的? **</p><p><a href="https://zhuanlan.zhihu.com/p/106691292" target="_blank" rel="noopener noreferrer">为什么useState被设计成异步的?<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><ol><li>做批处理. 在同一个时刻, 可以能有多个更改视图的函数触发, 将这些操作合并成一个, 一次更新DOM</li><li>保持内部数据的一致性.</li></ol><h3 id="_2-fiber" tabindex="-1"><a class="header-anchor" href="#_2-fiber" aria-hidden="true">#</a> 2. fiber</h3><p>参考文档 <a href="https://www.cnblogs.com/echolun/p/16414562.html" target="_blank" rel="noopener noreferrer">fiber<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><ol><li><p>16.8之前的问题, 当组件更新的时候, 如果组件树的层级很深, 组件树很庞大, 可能会产生卡顿.</p><ol start="2"><li>卡顿的原因是<br> - 视觉上帧率小于60FPS的动画会卡, 也就是一帧渲染速度小于16.6ms的时候会肉眼觉得卡顿</li></ol><pre><code>- react16.8之前更新视图可能花费的时间大于16.6ms, 就会感觉到卡顿. 
- 根本原因是, react之前的DOM-DIFF算法是递归的调用函数, 深度优先遍历新老虚拟DOM树, 差异化更新
  其流程是函数调用栈里执行的, 没有办法终止. 

解决: fiber是为了解决卡帧问题出现的, react团队设计的链表(树)数据结构. 原先DOM-DIFF是新老虚拟DOM对比
16.8以后是老的虚拟DOM生成fiber树, 然后在更新时候用新虚拟DOM和老fiber树进行对比, 将差异的信息更新
到fiber树上. 

​

这个过程(Reconciliation协调阶段)是可以暂停的, react用requestAnimationFrame模拟requestIdleCallback在浏览器主线程空闲时候进行差异化更新.   提交阶段：将协调阶段计算出来的变更一次性提交，此阶段同步进行且不可中断（优先保证渲染）。

  fiber对比的规则大概有三个层面
1. 深度优先遍历 + 同级比较. 只比较同级
2. 最先比较key, key不一样直接用新的. 在react当中没有指定key, 则默认使用在父节点的相对索引作为key
3. 再比较tag
4. 最后比较内容
5. react有一些字段定义了更新行为: 4--Update 
</code></pre></li></ol><h3 id="_3-react组件通信" tabindex="-1"><a class="header-anchor" href="#_3-react组件通信" aria-hidden="true">#</a> 3. react组件通信</h3><h3 id="_4-hook和高阶组件各解决了什么问题-区别和联系" tabindex="-1"><a class="header-anchor" href="#_4-hook和高阶组件各解决了什么问题-区别和联系" aria-hidden="true">#</a> 4. hook和高阶组件各解决了什么问题, 区别和联系</h3><h3 id="_5-react-底层原理-了解越多越好" tabindex="-1"><a class="header-anchor" href="#_5-react-底层原理-了解越多越好" aria-hidden="true">#</a> 5. React 底层原理(了解越多越好)</h3><h3 id="_6-react生命周期" tabindex="-1"><a class="header-anchor" href="#_6-react生命周期" aria-hidden="true">#</a> 6. react生命周期</h3><h3 id="_7-react-的-setstate是同步还是异步" tabindex="-1"><a class="header-anchor" href="#_7-react-的-setstate是同步还是异步" aria-hidden="true">#</a> 7. react 的 setState是同步还是异步</h3><h3 id="_8-vue和react的区别" tabindex="-1"><a class="header-anchor" href="#_8-vue和react的区别" aria-hidden="true">#</a> 8. Vue和React的区别</h3><h3 id="_10-react优化相关" tabindex="-1"><a class="header-anchor" href="#_10-react优化相关" aria-hidden="true">#</a> 10. React优化相关</h3><p>React uesMemo和uesCallback，<br> 如何用uesMome模拟uesCallback<br> 如何用uesEffect模拟生命周期中的didMount</p><h3 id="_11-usestate合并了哪些生命周期" tabindex="-1"><a class="header-anchor" href="#_11-usestate合并了哪些生命周期" aria-hidden="true">#</a> 11. useState合并了哪些生命周期</h3><h3 id="_12-redux和rtk的基本用法" tabindex="-1"><a class="header-anchor" href="#_12-redux和rtk的基本用法" aria-hidden="true">#</a> 12.redux和RTK的基本用法</h3><h3 id="_13-react中的高级api" tabindex="-1"><a class="header-anchor" href="#_13-react中的高级api" aria-hidden="true">#</a> 13. react中的高级API</h3><h2 id="vue" tabindex="-1"><a class="header-anchor" href="#vue" aria-hidden="true">#</a> Vue</h2><h3 id="_1-vue组件间怎么通信的" tabindex="-1"><a class="header-anchor" href="#_1-vue组件间怎么通信的" aria-hidden="true">#</a> 1. vue组件间怎么通信的</h3><h3 id="_2-v-for和v-if哪个优先级高" tabindex="-1"><a class="header-anchor" href="#_2-v-for和v-if哪个优先级高" aria-hidden="true">#</a> 2. v-for和v-if哪个优先级高</h3><p>###3. Vue的插件与混入</p><h3 id="_4-你了解的vue底层源码实现" tabindex="-1"><a class="header-anchor" href="#_4-你了解的vue底层源码实现" aria-hidden="true">#</a> 4.你了解的vue底层源码实现</h3><h3 id="_5-watch和computed什么区别" tabindex="-1"><a class="header-anchor" href="#_5-watch和computed什么区别" aria-hidden="true">#</a> 5. watch和computed什么区别</h3><h3 id="_6-vue-router中路由模式和区别" tabindex="-1"><a class="header-anchor" href="#_6-vue-router中路由模式和区别" aria-hidden="true">#</a> 6.vue-router中路由模式和区别</h3><h3 id="_7-nexttick原理" tabindex="-1"><a class="header-anchor" href="#_7-nexttick原理" aria-hidden="true">#</a> 7. nextTick原理</h3><h3 id="_8-如何实现图片懒加载" tabindex="-1"><a class="header-anchor" href="#_8-如何实现图片懒加载" aria-hidden="true">#</a> 8. 如何实现图片懒加载</h3><h2 id="打包工具" tabindex="-1"><a class="header-anchor" href="#打包工具" aria-hidden="true">#</a> 打包工具</h2><p>###1. vite的原理和webpack的区别</p><h3 id="_2-webpack用过的plugin-loader和其他配置" tabindex="-1"><a class="header-anchor" href="#_2-webpack用过的plugin-loader和其他配置" aria-hidden="true">#</a> 2. webpack用过的plugin,loader和其他配置</h3><h3 id="_3-什么是前端工程化" tabindex="-1"><a class="header-anchor" href="#_3-什么是前端工程化" aria-hidden="true">#</a> 3. 什么是前端工程化</h3><h2 id="计算机网络" tabindex="-1"><a class="header-anchor" href="#计算机网络" aria-hidden="true">#</a> 计算机网络</h2><h3 id="_1-get与post区别" tabindex="-1"><a class="header-anchor" href="#_1-get与post区别" aria-hidden="true">#</a> 1. get与post区别</h3><p><a href="https://www.zhihu.com/question/28586791" target="_blank" rel="noopener noreferrer">get与post区别<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://blog.51cto.com/u_15274085/2919200" target="_blank" rel="noopener noreferrer">100-continue <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>结论: 从http语义上来说没区别, 从开发的角度有些区别和误解</p><ol><li>根据建议. 幂等的数据用get, 非幂等的用post</li><li>根据约定一般get用url传参, post用body传参. 当然get也可以用body, post也可以用url</li><li>根据约定, get既然用url传参, 其编码采用percent-encoding. 该编码对ASCII字符不编码, 对非ASCII编码采用百分符编码. 根据约定post用body传参, 请求体的编码方式要看请求头中的Content-type, 该字段约束了请求体的格式和编码方式如 Content-Type: application/x-www-form-urlencoded;charset=utf-8; 规定了数据格式为键值对的表单数据, 编码为utf-8;</li><li>安全性. 都是HTTP明文传输, 安全性都很差. 但是get直接将参数放在url上, 可以被保存, 被外行直接识别出来. 而post起码要会开发者工工具才能看到. 相对而言get好于post</li><li>根据业务. 大文件的请求如果用post传输, 可以结合Expect: 100-continue发一个请求头数据, 服务端如果返回Continue则继续发请求体数据. 这样的话是发了两次请求, 一般这种业务需求用post, 所以看起来post比get多一次请求. 但是get也能做</li><li>对于不同浏览器来说 url有长度限制, 太长了也不利于爬虫. 一般超过2kb的数据, 放在post的body里, 小了可以考虑放在get的url里</li></ol><h3 id="_2-正向代理和反向代理" tabindex="-1"><a class="header-anchor" href="#_2-正向代理和反向代理" aria-hidden="true">#</a> 2. 正向代理和反向代理</h3><p><a href="https://cloud.tencent.com/developer/article/1996633" target="_blank" rel="noopener noreferrer">正向代理和反向代理<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>主要的区别就是客户端知不知道服务端是谁, 知道则是正向代理, 不知道则是反向代理</p><h3 id="_3-什么是跨域-怎么解决" tabindex="-1"><a class="header-anchor" href="#_3-什么是跨域-怎么解决" aria-hidden="true">#</a> 3. <strong>什么是跨域，怎么解决</strong></h3><p><a href="https://www.cnblogs.com/yingzi1028/archive/2022/09/07/16665766.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/yingzi1028/archive/2022/09/07/16665766.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="_4-jsonp是什么原理" tabindex="-1"><a class="header-anchor" href="#_4-jsonp是什么原理" aria-hidden="true">#</a> 4. <strong>JSONP是什么原理</strong></h3><p><a href="https://www.shuzhiduo.com/A/l1dyr4R0ze/" target="_blank" rel="noopener noreferrer">https://www.shuzhiduo.com/A/l1dyr4R0ze/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>利用了script标签可以加载js脚本但是不受浏览器同源策略的影响的特性</p><p>动态创建script去加载脚本, 在url上携带参数, 但是后端并不知道如何处理这些参数, 所以需要前端预先声明好处理这些参数的函数, 然后在url上写明回调的函数名, 后端拿到函数名和参数后, 筛选出数据并返回该函数携带参数的调用, 前端拿到调用的脚本后直接调用.</p><h3 id="_5-什么是预检请求" tabindex="-1"><a class="header-anchor" href="#_5-什么是预检请求" aria-hidden="true">#</a> 5. <strong>什么是预检请求</strong></h3><h3 id="_6-http1-和-http2-和-http3的区别" tabindex="-1"><a class="header-anchor" href="#_6-http1-和-http2-和-http3的区别" aria-hidden="true">#</a> 6. http1 和 http2 和 http3的区别</h3><ol><li><p><a href="https://www.cnblogs.com/ExMan/p/11815540.html" target="_blank" rel="noopener noreferrer">如何查看当前文件遵循的是http几的协议<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>http1.0的问题是每个请求都需要经过TCP链接和断开的过程, 比较消耗时间</p><p>​</p><p>http1.1对1.0的问题进行了修复. 主要是默认开启了connection:keep-alive 对于同一域名下的请求可以走一条TCP链接, 从而减少了链接和断开的时间.</p><p>​</p><p>http1.1也有自己的缺点: 即使做了优化, 还是很慢.</p><ul><li>主要体现在队头头堵塞的现象和浏览器限制TCP链接的数量.</li><li>队头堵塞指的是一个TCP链接里的不同请求, 只能等到上一个请求响应了, 才能开启下一个请求. 如果上一个请求失败了, 会影响到下一个请求的发送和接受.</li><li>限制TCP链接指的是, 不同浏览器对同一域名下并发的TCP链接数有限制, 以Chrome为例, 只能最多建立6个TCP链接, 如果有十个TCP链接, 就会有4个TCP链接被挂起</li></ul><p>​</p><p>http1.1时代为了解决高延迟, 主要在开发层面上做优化, 比如域名分片, 将资源分散到不同服务器上. 比如雪碧图和webpack打包时候合并更多的文件, 合并http请求数量</p><p>​</p><p>http2.0 优化了高延迟的问题.</p><ul><li>同一域名下只建立一个TCP链接, 所有文件并发请求和响应, 充分利用了用户的带宽.</li><li>它的实现:</li><li><ol><li>抛弃了纯文本的报文形式, 将报文分层header帧和data帧, 并且以二进制的形式表示报文</li><li>header压缩, 之前http中, 每次请求所带的请求头都携带着重复信息, http2采用hpack算法压缩头部信息,</li><li>hpack算法的主要特点有: 1. 索引表, 客户端和服务端都维护这一张索引表, 对常见的头的keyvalue进行枚举, 那么发送的时候, 不需要发送key-value只需要发送对应的索引值即可 2. 差异化发送, 只发送某个请求与之前不同的部分, 相同的部分不发送.</li><li>多路复用: 请求不必等到上一个请求响应再发送.</li></ol></li></ul></li></ol><h3 id="_7-websocket" tabindex="-1"><a class="header-anchor" href="#_7-websocket" aria-hidden="true">#</a> 7. websocket</h3><p>先看看兼容性<a href="https://caniuse.com/?search=webSocket" target="_blank" rel="noopener noreferrer">Websocket的兼容性 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>根据Can I Use的结果. websocket现在浏览器支持良好</p><p>应用场景: websocket经典应用场景是聊天室, 比如最近爆火的CharGPT聊天室应用, 其也应用了websokcet技术. 还有动态可视化, 比如天气网站, 天气, 温度等信息可以实时由服务端推送, 而非刷新重新获取.</p><p>使用websocket流程:</p><ol><li>js直接有WebsocketApi, 按照文档即可和服务端建立websocket链接.</li><li>和对应的URL建立链接时, 先是发起HTTP请求, 并且携带 Connection: Upgrade; Upgrade:websocket两个请求头, 表示要升级到ws, 服务端响应Upgrade:websocket, 并且返回101 Switching protocol 状态码. 此时ws连接建立</li><li>ws链接建立后. 即可利用全双工的特性, 客户端和服务端相互推送数据.</li></ol><p><strong>demo: 聊天功能</strong></p><p>前端代码(index.html):</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">&quot;en&quot;</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token string">&quot;X-UA-Compatible&quot;</span> content<span class="token operator">=</span><span class="token string">&quot;IE=edge&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">&quot;viewport&quot;</span> content<span class="token operator">=</span><span class="token string">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Document<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;input-message&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">&quot;btn&quot;</span><span class="token operator">&gt;</span>发送<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>

  <span class="token operator">&lt;</span>textarea id<span class="token operator">=</span><span class="token string">&quot;textarea&quot;</span> cols<span class="token operator">=</span><span class="token string">&quot;30&quot;</span> rows<span class="token operator">=</span><span class="token string">&quot;10&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>textarea<span class="token operator">&gt;</span>

  <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token comment">// 新建websocket链接</span>
    <span class="token keyword">const</span> ws <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span><span class="token string">&quot;ws://localhost:3000&quot;</span><span class="token punctuation">)</span>

    <span class="token comment">// 当点击发送按钮时候, 发送消息</span>
    <span class="token keyword">const</span> <span class="token function-variable function">sendMessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> sendBtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;btn&#39;</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> inp <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;input-message&#39;</span><span class="token punctuation">)</span>
      sendBtn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        ws<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>inp<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 当收到服务端的信息的时候, 存储信息</span>
    <span class="token keyword">const</span> <span class="token function-variable function">saveMessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> text <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;textarea&#39;</span><span class="token punctuation">)</span>
      text<span class="token punctuation">.</span>value <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>message<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\n</span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 连接成功的事件</span>
    ws<span class="token punctuation">.</span><span class="token function-variable function">onopen</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ws链接成功&#39;</span><span class="token punctuation">)</span>
      <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 连接失败的事件</span>
    ws<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ws链接失败, 请检查&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 接收到服务端消息的事件</span>
    ws<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">服务端: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>e<span class="token punctuation">.</span>data<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
      <span class="token function">saveMessage</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>后端代码(node.js编写). 需要下载ws库</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> WebSocketServer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;ws&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> wss <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocketServer</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">3000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span>
wss<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;connection&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">connection</span><span class="token punctuation">(</span><span class="token parameter">ws</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  ws<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span> console<span class="token punctuation">.</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>

  ws<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;message&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">message</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ws<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">这是第</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token operator">++</span>count<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">条回复~, 祝你有美好的一天</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>扩展阅读:</p><p><a href="https://cloud.tencent.com/developer/article/1561528?from=15425&amp;areaSource=102001.1&amp;traceId=3wOOu9cZKLAIu3Tu3RkHP" target="_blank" rel="noopener noreferrer">深入探索WebSocket和HTTP/2<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://cloud.tencent.com/developer/article/1445895?from=15425&amp;areaSource=102001.2&amp;traceId=3wOOu9cZKLAIu3Tu3RkHP" target="_blank" rel="noopener noreferrer">为什么http2代替不了websocket <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="_8-http和https区别" tabindex="-1"><a class="header-anchor" href="#_8-http和https区别" aria-hidden="true">#</a> 8. http和https区别</h3><p><a href="https://www.bilibili.com/video/BV1KY411x7Jp/?spm_id_from=333.337.search-card.all.click&amp;vd_source=20bf77d62633a13b190b5fb3785b2e34" target="_blank" rel="noopener noreferrer">详解https<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>关于视频中随机数的作用, 是为了解决重放攻击, 至于什么是重放攻击, 属于网络安全的范畴, 不再详细了解了</p><p>总结:</p><p>https的加密使用了对称加密算法, 在传输过程中使用了非对称加密保证了私钥在传输过程中安全性</p><ol><li>服务商会去CA(Certificate Authority)证书代理商那申请网站证书, 用于证明服务器的真实性. (我是谁不能由我说了算, 要有一个权威人士说我是谁才行)</li><li>TLS开始: 由客户端发起 Client Hello 请求, 携带客户端支持的TLS版本, 支持的加密套装, 一个随机数给服务端</li><li>服务端接受. 并发送 Server Hello请求, 携带服务端支持和选择的TLS版本, 选择的加密套装, 还有服务端生成的第二随机数</li><li>服务端又发送CA证书给客户端</li><li>客户端验证CA证书</li><li>服务端发送 Server Key Exchange 将非对称的公钥发给客户端</li><li>服务端又发送 Server Hello Done 表示服务端say hello结束</li><li>客户端发送Client Key Exchange根据公钥, 将自己的私钥加密生成 pre-master key 预主密钥发送给服务端</li><li>客户端和服务端各根据自己手上的 第一随机数, 第二随机数和预主密钥生成会话密钥. 以后所有的数据都由会话密钥加密/解密</li></ol><h3 id="_9-tcp-ip五层介绍一下" tabindex="-1"><a class="header-anchor" href="#_9-tcp-ip五层介绍一下" aria-hidden="true">#</a> 9.tcp/ip五层介绍一下</h3><h3 id="_10-tcp-和-udp-区别" tabindex="-1"><a class="header-anchor" href="#_10-tcp-和-udp-区别" aria-hidden="true">#</a> 10.TCP 和 UDP 区别</h3><h3 id="_11-http状态码" tabindex="-1"><a class="header-anchor" href="#_11-http状态码" aria-hidden="true">#</a> 11. http状态码</h3><h3 id="_12-怎么防止xss攻击" tabindex="-1"><a class="header-anchor" href="#_12-怎么防止xss攻击" aria-hidden="true">#</a> 12. 怎么防止XSS攻击</h3><h2 id="封装技巧" tabindex="-1"><a class="header-anchor" href="#封装技巧" aria-hidden="true">#</a> 封装技巧</h2><h3 id="_1-如何封装一个表格-表单" tabindex="-1"><a class="header-anchor" href="#_1-如何封装一个表格-表单" aria-hidden="true">#</a> 1. 如何封装一个表格, 表单</h3><h2 id="git" tabindex="-1"><a class="header-anchor" href="#git" aria-hidden="true">#</a> git</h2><h3 id="_1-代码遇到冲突怎么办" tabindex="-1"><a class="header-anchor" href="#_1-代码遇到冲突怎么办" aria-hidden="true">#</a> 1. 代码遇到冲突怎么办</h3><h3 id="_2-分支上代码没写完怎么缓存" tabindex="-1"><a class="header-anchor" href="#_2-分支上代码没写完怎么缓存" aria-hidden="true">#</a> 2. 分支上代码没写完怎么缓存</h3><h3 id="_3-git-stash" tabindex="-1"><a class="header-anchor" href="#_3-git-stash" aria-hidden="true">#</a> 3. git stash</h3><h3 id="_4-git怎么回退版本-版本id怎么查看" tabindex="-1"><a class="header-anchor" href="#_4-git怎么回退版本-版本id怎么查看" aria-hidden="true">#</a> 4. git怎么回退版本，版本id怎么查看</h3><h2 id="业务" tabindex="-1"><a class="header-anchor" href="#业务" aria-hidden="true">#</a> 业务</h2><h3 id="_1-说下对rbac的理解-怎么实现" tabindex="-1"><a class="header-anchor" href="#_1-说下对rbac的理解-怎么实现" aria-hidden="true">#</a> 1. 说下对RBAC的理解，怎么实现</h3><h3 id="_2-项目部署的流程-怎么解决跨域的" tabindex="-1"><a class="header-anchor" href="#_2-项目部署的流程-怎么解决跨域的" aria-hidden="true">#</a> 2 . 项目部署的流程 怎么解决跨域的</h3><h3 id="_3-单点登录" tabindex="-1"><a class="header-anchor" href="#_3-单点登录" aria-hidden="true">#</a> 3. 单点登录</h3><h3 id="_4-你讲讲前端工程化在项目发布和部署这块有哪些要做的" tabindex="-1"><a class="header-anchor" href="#_4-你讲讲前端工程化在项目发布和部署这块有哪些要做的" aria-hidden="true">#</a> 4. 你讲讲前端工程化在项目发布和部署这块有哪些要做的</h3><h3 id="_5-项目上线后-开发者如何提前自动获取到项目的-js-运行报错" tabindex="-1"><a class="header-anchor" href="#_5-项目上线后-开发者如何提前自动获取到项目的-js-运行报错" aria-hidden="true">#</a> 5. 项目上线后, 开发者如何提前自动获取到项目的 js 运行报错</h3><h3 id="_6-设计一个前端监控平台-项目中怎么接入监控平台的" tabindex="-1"><a class="header-anchor" href="#_6-设计一个前端监控平台-项目中怎么接入监控平台的" aria-hidden="true">#</a> 6. 设计一个前端监控平台，项目中怎么接入监控平台的</h3><h3 id="_7-jwt" tabindex="-1"><a class="header-anchor" href="#_7-jwt" aria-hidden="true">#</a> 7. jwt</h3><h3 id="_8-后端返回大量条数据-前端如何进行优化-怎么处理暂不需要的数据" tabindex="-1"><a class="header-anchor" href="#_8-后端返回大量条数据-前端如何进行优化-怎么处理暂不需要的数据" aria-hidden="true">#</a> 8. 后端返回大量条数据，前端如何进行优化(怎么处理暂不需要的数据)</h3><h4 id="_9-git-flow" tabindex="-1"><a class="header-anchor" href="#_9-git-flow" aria-hidden="true">#</a> 9. Git flow</h4><p>git flow是git的工作流, 不属于新技术, 是一种git 流程管理规范</p><p>Master/Main 主分支存放的代码和线上发布的代码一致.</p><ul><li>来源: release分支, hotfix分支</li><li>去向: dev分支, hotfix分支</li></ul><p>Dev: 开发分支. 任何时候都是最新的开发代码</p><ul><li>来源: 第一次基于master的. feature分支. hotfix分支. release分支. 总而言之: 保存的是最新的开发代码</li><li>去向: feature分支</li></ul><p>feature: 功能分支. 一个需求对应一个功能分支</p><ul><li>来源: dev分支</li><li>去向: dev分支</li></ul><p>release: 提测分支</p><ul><li>来源: dev分支</li><li>去向: master分支 dev分支</li></ul><p>hotfix: 线上bug修复分支</p><ul><li>来源: master分支</li><li>去向: master分支 dev分支</li></ul></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/vuepress-theme-hope/vuepress-theme-hope/edit/main/src/Individual/interview/面试八股文.md" rel="noopener noreferrer" target="_blank" aria-label="在 GitHub 上编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在 GitHub 上编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">上次编辑于: </span><!----></div><div class="contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: summer@tradev-group.com">Summer</span><!--]--><!--]--></div></div></footer><!----><div id="comment" class="giscus-wrapper input-top" style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer">默认页脚</div><div class="vp-copyright">Copyright © 2023 Mr.Hope</div></footer></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-a87d2e20.js" defer></script>
  </body>
</html>
